<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE web-app
    PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
    "http://java.sun.com/j2ee/dtds/web-app_2.3.dtd">

<web-app>
    <display-name>@applicationURLPath@</display-name>
		<servlet>
			<servlet-name>struts</servlet-name>
			<servlet-class>net.anotheria.webutils.servlet.ControllerServlet</servlet-class>
			<init-param>
				<param-name>application</param-name>
				<param-value>ApplicationResources</param-value>
			</init-param>
			<init-param>
				<param-name>config</param-name>
				<param-value>
<!-- 
					/WEB-INF/classes/struts-config-moskito.xml,
-->
					/WEB-INF/classes/struts-config-cms.xml,
					/WEB-INF/classes/struts-config-content.xml,
					/WEB-INF/classes/struts-config-layout.xml,
					/WEB-INF/classes/struts-config-definitions.xml,
					/WEB-INF/classes/struts-config-sitex.xml,
					/WEB-INF/classes/struts-config-siteconfig.xml,
					/WEB-INF/classes/struts-config-resources.xml,
					/WEB-INF/classes/struts-config-georesources.xml,
					/WEB-INF/classes/struts-config-actions.xml,
				</param-value>
			</init-param>
			<load-on-startup>5</load-on-startup>
		</servlet>
	
		<servlet>
			<servlet-name>fileservlet</servlet-name>
			<servlet-class>net.anotheria.webutils.filehandling.servlet.FileDeliveryServlet</servlet-class>
		</servlet>

		<servlet>
			<servlet-name>contentpage</servlet-name>
			<servlet-class>net.anotheria.anosite.content.servlet.ContentPageServlet</servlet-class>
		</servlet>
		
		<servlet>
			<servlet-name>stylesheet</servlet-name>
			<servlet-class>net.anotheria.anosite.content.servlet.StyleSheetServlet</servlet-class>
		</servlet>

		<servlet>
			<servlet-name>actionservlet</servlet-name>
			<servlet-class>net.anotheria.anosite.action.servlet.ActionServlet</servlet-class>
		</servlet>
		
		<servlet-mapping>
			<servlet-name>fileservlet</servlet-name>
			<url-pattern>/file/*</url-pattern>
		</servlet-mapping>
		
		<servlet-mapping>
			<servlet-name>fileservlet</servlet-name>
			<url-pattern>/cms/file/*</url-pattern>
		</servlet-mapping>

		<servlet-mapping>
			<servlet-name>stylesheet</servlet-name>
			<url-pattern>/styles/*</url-pattern>
		</servlet-mapping>

		<servlet-mapping>
			<servlet-name>contentpage</servlet-name>
			<url-pattern>*.html</url-pattern>
		</servlet-mapping>

		<servlet-mapping>
			<servlet-name>actionservlet</servlet-name>
			<url-pattern>*.action</url-pattern>
		</servlet-mapping>

		<servlet-mapping>
			<servlet-name>struts</servlet-name>
			<url-pattern>/cms/*</url-pattern>
		</servlet-mapping>


		<filter>
	        <filter-name>EntryPoint</filter-name>
        	<filter-class>net.anotheria.anosite.content.filter.EntryPointFilter</filter-class>
    	</filter>


		<filter>
        	<filter-name>RequestURIFilter</filter-name>
    	    <filter-class>net.java.dev.moskito.web.filters.RequestURIFilter</filter-class>
			<init-param>
				<param-name>limit</param-name>
				<param-value>500</param-value>
			</init-param>
	    </filter>
		
		<filter>
        	<filter-name>UserAgentFilter</filter-name>
	        <filter-class>net.java.dev.moskito.web.filters.UserAgentFilter</filter-class>
			<init-param>
				<param-name>limit</param-name>
				<param-value>500</param-value>
			</init-param>
    	</filter>
    	
		<filter>
    	    <filter-name>MoskitoCommandFilter</filter-name>
        	<filter-class>net.java.dev.moskito.web.filters.MoskitoCommandFilter</filter-class>
	    </filter>

		<filter>
	        <filter-name>MonitoringSessionFilter</filter-name>
        	<filter-class>net.java.dev.moskito.web.filters.MonitoringSessionFilter</filter-class>
    	</filter>
       <filter>
           <filter-name>FirstFilter</filter-name>
           <filter-class>net.anotheria.anosite.content.filter.FirstFilter</filter-class>
       </filter>
		<filter>
	        <filter-name>LanguageFilter</filter-name>
        	<filter-class>net.anotheria.anosite.content.filter.LanguageFilter</filter-class>
    	</filter>
		<filter>
	        <filter-name>EditModeSwitcher</filter-name>
        	<filter-class>net.anotheria.anosite.content.filter.EditModeSwitcherFilter</filter-class>
    	</filter>
		<filter>
			<filter-name>APIFilter</filter-name>
			<filter-class>net.anotheria.anoplass.api.filter.APIFilter</filter-class>
		</filter>
        <filter-mapping>
            <filter-name>FirstFilter</filter-name>
            <url-pattern>/*</url-pattern>
        </filter-mapping>
	    <filter-mapping>
        	<filter-name>MoskitoCommandFilter</filter-name>
    	    <url-pattern>/*</url-pattern>
	    </filter-mapping>
	    <filter-mapping>
    	    <filter-name>MonitoringSessionFilter</filter-name>
        	<url-pattern>/*</url-pattern>
	    </filter-mapping>
	    
   		<filter-mapping>
	        <filter-name>RequestURIFilter</filter-name>
        	<url-pattern>/*</url-pattern>
    	</filter-mapping>

	    <filter-mapping>
        	<filter-name>UserAgentFilter</filter-name>
    	    <url-pattern>/*</url-pattern> 
	    </filter-mapping>
	    <filter-mapping>
        	<filter-name>LanguageFilter</filter-name>
    	    <url-pattern>/*</url-pattern> 
	    </filter-mapping>
	    <filter-mapping>
        	<filter-name>EditModeSwitcher</filter-name>
    	    <url-pattern>/*</url-pattern> 
	    </filter-mapping>
	    <filter-mapping>
        	<filter-name>EntryPoint</filter-name>
    	    <url-pattern>/</url-pattern> 
	    </filter-mapping>
   	    <filter-mapping>
        	<filter-name>APIFilter</filter-name>
    	    <url-pattern>/*</url-pattern> 
	    </filter-mapping>


	<welcome-file-list>
	    	<welcome-file>Home.html</welcome-file>
  	</welcome-file-list>


	<!--jsp-config-->
	<taglib>
    	<taglib-uri>/tags/struts-html</taglib-uri>
	    <taglib-location>/WEB-INF/tld/struts-html.tld</taglib-location>
	</taglib>
	<taglib>
    	<taglib-uri>/tags/struts-bean</taglib-uri>
	    <taglib-location>/WEB-INF/tld/struts-bean.tld</taglib-location>
	</taglib>
	<taglib>
    	<taglib-uri>/tags/struts-logic</taglib-uri>
	    <taglib-location>/WEB-INF/tld/struts-logic.tld</taglib-location>
	</taglib>
	<taglib>
    	<taglib-uri>/tags/struts-tiles</taglib-uri>
	    <taglib-location>/WEB-INF/tld/struts-tiles.tld</taglib-location>
	</taglib>
	<taglib>
    	<taglib-uri>/tags/struts-nested</taglib-uri>
	    <taglib-location>/WEB-INF/tld/struts-nested.tld</taglib-location>
	</taglib>
	<taglib>
    	<taglib-uri>/tags/json</taglib-uri>
	    <taglib-location>/WEB-INF/tld/json.tld</taglib-location>
	</taglib>
	<taglib>
    	<taglib-uri>/tags/yui</taglib-uri>
	    <taglib-location>/WEB-INF/tld/yui.tld</taglib-location>
	</taglib>
	<!--/jsp-config-->
	<listener>
		<listener-class>
			net.anotheria.@applicationName@.shared.presentation.listener.ContextInitializer
		</listener-class>
	</listener>
  	<listener>
		<listener-class>
			net.anotheria.anosite.shared.presentation.listener.ContextInitializer
		</listener-class>
	</listener>
  	<listener>
		<listener-class>
			net.anotheria.anosite.shared.presentation.listener.APISessionListener
		</listener-class>
	</listener>

	
</web-app> 